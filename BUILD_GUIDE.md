# 🚀 一键打包脚本使用说明

这个自动化构建脚本让您可以轻松地更新版本号并打包 GROMACS Helper VS Code 扩展。

## 📋 功能特性

✅ **自动版本管理** - 询问并验证新版本号  
✅ **智能构建** - 自动编译、清理和打包  
✅ **即时安装** - 可选择立即安装到编辑器  
✅ **发布文档** - 自动生成发布说明  
✅ **跨平台支持** - 支持 macOS/Linux 和 Windows  

## 🎯 使用方法

### macOS/Linux 系统
```bash
./build.sh
```

### Windows 系统
```cmd
build.bat
```

## 📝 脚本流程

1. **环境检查** - 验证 Node.js、npm 和项目目录
2. **版本输入** - 提示输入新版本号并验证格式
3. **确认操作** - 显示将要执行的操作列表
4. **更新版本** - 自动修改 package.json 中的版本号
5. **依赖安装** - 检查并安装必要的构建工具
6. **清理环境** - 删除旧的构建文件
7. **编译代码** - 运行 TypeScript 编译
8. **打包扩展** - 生成 VSIX 文件
9. **安装选项** - 询问是否立即安装
10. **发布文档** - 可选生成发布说明

## 📊 输出结果

- `gromacs-helper-vscode-{version}.vsix` - 可安装的扩展包
- `RELEASE-{version}.md` - 发布说明文档 (可选)

## 🔧 版本号格式

支持的版本号格式：
- 标准版本: `1.0.0`, `2.1.3`
- 预发布版本: `1.0.0-beta.1`, `2.0.0-alpha.2`
- 开发版本: `0.1.0`, `0.0.1`

## 📄 示例输出

```
🚀 GROMACS Helper VS Code Extension 打包工具
=============================================
📋 当前版本: 0.0.1
🔢 请输入新版本号 (当前: 0.0.1): 0.0.2
✅ 版本号格式正确: 0.0.2
📝 将要进行的操作:
  - 更新版本: 0.0.1 → 0.0.2
  - 编译 TypeScript 代码
  - 打包为 VSIX 文件
❓ 确认继续? (y/N): y
...
🎉 打包成功!
📁 生成文件: gromacs-helper-vscode-0.0.2.vsix
📏 文件大小: 80K
🎊 所有操作完成!
```

## 🚨 注意事项

- 请在项目根目录运行脚本
- 确保已安装 Node.js 和 npm
- Windows 用户需要管理员权限 (某些情况下)
- 构建前会自动清理旧文件

## 🛠️ 故障排除

### 权限错误
```bash
chmod +x build.sh  # macOS/Linux
```

### 依赖缺失
```bash
npm install  # 安装项目依赖
```

### 版本冲突
手动检查 package.json 中的版本号是否正确

---

💡 **提示**: 脚本会自动处理大部分构建流程，您只需要关注版本号的选择即可！
